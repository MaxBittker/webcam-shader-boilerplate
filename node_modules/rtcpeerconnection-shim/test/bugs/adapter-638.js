const mockORTC = require('../ortcmock');
const mockGetUserMedia = require('../gummock');
const shimPeerConnection = require('../../rtcpeerconnection');
const SDPUtils = require('sdp');
global.window = {setTimeout};
mockGetUserMedia(window);
mockORTC(window);
global.navigator = window.navigator;

const RTCPeerConnection = shimPeerConnection(window, 15025);
const sdp = 'v=0\r\no=- 6115746443906320221 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE audio\r\na=msid-semantic: WMS 931d345f-1032-4003-bd2f-ccba9ea57d7a\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:CJ/N\r\na=ice-pwd:+lyXO56u3ZaSG3bxq7VgdkkD\r\na=fingerprint:sha-256 FF:7E:06:DC:60:7F:69:C6:38:13:B7:78:D5:27:B6:46:6E:34:68:9A:50:50:F5:F9:49:49:EF:F5:8E:B4:0A:39\r\na=setup:actpass\r\na=mid:audio\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=sendrecv\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:103 ISAC/16000\r\na=rtpmap:104 ISAC/32000\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:106 CN/32000\r\na=rtpmap:105 CN/16000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:112 telephone-event/32000\r\na=rtpmap:113 telephone-event/16000\r\na=rtpmap:126 telephone-event/8000\r\na=ssrc:588539270 cname:TKNwqHtSDon7Uh6O\r\na=ssrc:588539270 msid:931d345f-1032-4003-bd2f-ccba9ea57d7a 662d7974-cd61-4dbf-964a-dde626ca7a0c\r\na=ssrc:588539270 mslabel:931d345f-1032-4003-bd2f-ccba9ea57d7a\r\na=ssrc:588539270 label:662d7974-cd61-4dbf-964a-dde626ca7a0c\r\n'; 
pc = new RTCPeerConnection();
pc.setRemoteDescription({type: 'offer', sdp});
